<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>MasterCode Course</title>
        <meta content="MasterCode Course" name="description">
        <meta content="Html, Css, Js, jquery, bootstrap, oop, course, mastercode" name="keywords">
        <!-- Favicons -->
        <link href="assets/img/favicon.ico" rel="icon">
        <link href="assets/img/apple-icon.png" rel="apple-touch-icon">
        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
        <!-- Vendor CSS Files -->
        <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/bootstrap-extended.min.css">
        <link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/fonts/simple-line-icons/style.min.css">
        <link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/colors.min.css">
        <link rel="stylesheet" type="text/css" href="https://pixinvent.com/stack-responsive-bootstrap-4-admin-template/app-assets/css/bootstrap.min.css">
        <!-- Template Main CSS File -->
        <link href="assets/css/style.css" rel="stylesheet">
    </head>
<body>
    <button type="button" class="mobile-nav-toggle d-xl-none" style="font-size: 37px;"><i class="bx bx-menu"></i></button>
<header id="header">
    <div class="d-flex flex-column">
    <div class="profile">
        <img src="assets/img/logo.png" alt="" class="img-fluid rounded-circle">
        <h1 class="text-light"><a href="index.html">Master Code</a></h1>
        <div class="social-links mt-3 text-center">
            <a href="https://twitter.com/MasterC00636045" class="twitter"><i class="bx bxl-twitter"></i></a>
            <a href="https://www.facebook.com/MasterC0de" class="facebook"><i class="bx bxl-facebook"></i></a>
            <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
            
            <a href="https://www.linkedin.com/in/master-code-8a57b81b6/?midToken=AQEVsPwSvGBmEA&midSig=2a1-hWoTMQ7pQ1&trk=eml-email_pymk_02-header-49-profile&trkEmail=eml-email_pymk_02-header-49-profile-null-dyijnh%7Ekq942ap0%7Etr-null-neptune%2Fprofile%7Evanity%2Eview" class="linkedin"><i class="bx bxl-linkedin"></i></a>
        </div>
    </div>
    <nav class="nav-menu">
        <ul>
            <li class="active"><a href="index.html"><i class="bx bx-home"></i> <span>Home</span></a></li>
            <li><a href="index.html#sessions"><i class="bx bx-user"></i> <span>Sessions</span></a></li>
        </ul>
    </nav><!-- .nav-menu -->
    <button type="button" class="mobile-nav-toggle d-xl-none"><i class="icofont-navigation-menu"></i></button>
    </div>
</header>
<main id="main">
    <div class="container mt-2">
        <div class="section-title">
            <h2>Text Editor</h2>
            <p>You Can Try Your Code Here</p>
        </div>
        <ace-playground></ace-playground>
    </div>
</main>
<footer id="footer">
    <div class="container">
    <div class="copyright">
        &copy; Copyright <strong><span>Master Code</span></strong> 
    </div>
    <div class="credits">
        <strong style="color:red;"> &hearts; </strong> Designed by <a href="https://www.facebook.com/MasterC0de">Master Code</a>
    </div>
    </div>
</footer>
<a href="#" class="back-to-top"><i class="bx bx-chevrons-up"></i></a>
<!-- Vendor JS Files -->
<script src="assets/vendor/jquery/jquery.min.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
<script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
<script src="assets/vendor/counterup/counterup.min.js"></script>
<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="assets/vendor/venobox/venobox.min.js"></script>
<script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
<script src="assets/vendor/aos/aos.js"></script>
<!-- Template Main JS File -->
<script src="assets/js/main.js"></script>
<!-- load ace -->
<script src="src/ace.js"></script>
<script>
var dom = require("ace/lib/dom");
class AcePlayground extends HTMLElement {
    constructor() {
        super();  
        var shadow = this.attachShadow({mode: "open"});
        var dom = require("ace/lib/dom");
        dom.buildDom(["div", {id: "host"},
            ["div", {id: "html"}],
            ["div", {id: "css"}], 
            ["iframe", {id: "preview"}],
            ["style", `
                #host {
                    display: block;
                    grid-template-areas: "html preview" "css preview";
                }
                #html {
                    grid-area: html;
                    min-height: 400px;
                    font-size:18px;
                    margin-bottom: 20px;                  
                    box-shadow: 0 1px 3px rgb(0 0 0 / 12%), 0 1px 2px rgb(0 0 0 / 24%);
                }
                #css {
                    grid-area: css;
                    min-height: 400px;
                    font-size:18px;
                    box-shadow: 0 1px 3px rgb(0 0 0 / 12%), 0 1px 2px rgb(0 0 0 / 24%);
                }
                #preview {
                    grid-area: preview;
                    width: 100%;
                    min-height: 400px;
                    border: none;
                    background-color: #ffffff;
                    box-shadow: 0 1px 3px rgb(0 0 0 / 12%), 0 1px 2px rgb(0 0 0 / 24%);
                    margin-top: 20px;
                    margin-bottom: 20px
                }
            `]
        ], shadow);
        
        var htmlEditor = ace.edit(shadow.querySelector("#html"), {
            theme: "ace/theme/tomorrow_night_blue",
            mode: "ace/mode/html",
            value: "<!-- add your html and js code here --> \n <div>\n\t<h1> Hello World &#128525 </h1>\n</div>\n<script>\n\t//add your js code here\n<\/script>",
            autoScrollEditorIntoView: true
        });
        var cssEditor = ace.edit(shadow.querySelector("#css"), {
            theme: "ace/theme/xcode",
            mode: "ace/mode/css",
            value: "/*add your css code here*/\n",
            autoScrollEditorIntoView: true
        });
        var preview = shadow.querySelector("#preview");
        this.htmlEditor = htmlEditor;        
        this.cssEditor = cssEditor;
        this.preview = preview;
        htmlEditor.renderer.attachToShadowRoot();
        this.updatePreview = this.updatePreview.bind(this)
        htmlEditor.on("input", this.updatePreview);
        cssEditor.on("input", this.updatePreview);
        this.updatePreview();
    }
    updatePreview() {
        var code = this.htmlEditor.getValue() + "<style>" + this.cssEditor.getValue() + "</style>" ;
        this.preview.src = "data:text/html," + encodeURIComponent(code)
    }
}
customElements.define('ace-playground', AcePlayground);
window.add = function() {
    var el = document.createElement("ace-playground");    
    document.body.appendChild(el);
};
</script>
</body>
</html>
